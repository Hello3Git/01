local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local function createGeneratorGui()
    -- Prevent duplicates
    if playerGui:FindFirstChild("RemoteButtonGui") then return end

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "RemoteButtonGui"
    screenGui.ResetOnSpawn = false -- keep GUI after respawn
    screenGui.Parent = playerGui

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0,150,0,50)
    button.Position = UDim2.new(0.5,-75,0.5,-25) -- back to normal (centered)
    button.BackgroundColor3 = Color3.fromRGB(50,50,50)
    button.TextColor3 = Color3.fromRGB(255,255,255)
    button.Text = "Do Generators"
    button.Active = true
    button.Draggable = true
    button.Parent = screenGui

    local remote = workspace:WaitForChild("Map")
                        :WaitForChild("Ingame")
                        :WaitForChild("Map")
                        :WaitForChild("Generator")
                        :WaitForChild("Remotes")
                        :WaitForChild("RE")

    button.MouseButton1Click:Connect(function()
        remote:FireServer()
    end)
end

-- Only create once
createGeneratorGui()
