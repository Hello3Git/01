-- LocalScript
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Remote path
local remote = workspace:WaitForChild("Map")
    :WaitForChild("Ingame")
    :WaitForChild("Map")
    :WaitForChild("Generator")
    :WaitForChild("Remotes")
    :WaitForChild("RE")

-- Function to make the GUI
local function createGui()
    -- Avoid duplicates
    if player:WaitForChild("PlayerGui"):FindFirstChild("RemoteButtonGui") then
        player.PlayerGui.RemoteButtonGui:Destroy()
    end

    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "RemoteButtonGui"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = player.PlayerGui

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 150, 0, 40) -- wider for text
    button.Position = UDim2.new(0, 75, 0, 10)
    button.Text = "Fire Generator"
    button.BackgroundColor3 = Color3.fromRGB(30, 30, 30) -- gray-black
    button.TextColor3 = Color3.new(1, 1, 1) -- white
    button.Parent = screenGui

    -- Make draggable
    button.Active = true
    button.Draggable = true

    -- Click fires remote
    button.MouseButton1Click:Connect(function()
        remote:FireServer()
    end)
end

-- Create on start
createGui()

-- Recreate if character respawns
player.CharacterAdded:Connect(function()
    task.wait(1)
    createGui()
end)
