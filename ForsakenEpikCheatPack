-- ======== 1. STAMINA PATCH ======== --
local player = game.Players.LocalPlayer

local function waitFor(child, name, timeout)
    return child:WaitForChild(name, timeout or 10)
end

local function patchStamina()
    local character = player.Character or player.CharacterAdded:Wait()
    local success, err = pcall(function()
        local speedMultFolder = waitFor(character, "SpeedMultipliers")
        local fovMultFolder = waitFor(character, "FOVMultipliers")

        local speedValue = speedMultFolder:FindFirstChild("Sprinting")
        local fovValue = fovMultFolder:FindFirstChild("Sprinting")

        if speedValue then speedValue.Value = speedValue.Value end
        if fovValue then fovValue.Value = fovValue.Value end

        for _, module in pairs(getgc(true)) do
            if typeof(module) == "table" and rawget(module, "StaminaLoss") then
                module.StaminaLoss = 0
                print("[✓] Patched StaminaLoss to 0")
            end
            if typeof(module) == "table" and rawget(module, "StaminaLossDisabled") then
                module.StaminaLossDisabled = true
                print("[✓] Disabled StaminaLoss")
            end
        end
    end)

    if not success then
        warn("[!] Failed to patch stamina:", err)
    else
        print("[✓] Stamina patch executed successfully")
    end
end

patchStamina()
player.CharacterAdded:Connect(function() task.wait(1) patchStamina() end)

-- ======== 2. ESP ======== --
pcall(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Gazer-Ha/Forsakontol/refs/heads/main/Esp%20fix"))()
end)

-- ======== 3. CROSSHAIR (Your Original Version) ======== --
local cam = workspace.CurrentCamera

local crosshairSettings = {
    color = Color3.fromRGB(255, 128, 255),
    thickness = 2,
    length = 8,
    opacity = 1,
    x_offset = 0,
    y_offset = 0,
    recenter = true
}

getgenv().crosshair_x, getgenv().crosshair_y = {}, {}

local function draw(type, properties)
    local obj = Drawing.new(type)
    for i, v in pairs(properties) do
        obj[i] = v
    end
    return obj
end

-- Horizontal line
getgenv().crosshair_x.Line = draw("Line", {
    From = Vector2.new((cam.ViewportSize.X/2) - crosshairSettings.length, (cam.ViewportSize.Y/2)),
    To = Vector2.new((cam.ViewportSize.X/2) + crosshairSettings.length, (cam.ViewportSize.Y/2)),
    Thickness = crosshairSettings.thickness,
    Color = crosshairSettings.color,
    Transparency = crosshairSettings.opacity,
    Visible = true
})

-- Vertical line
getgenv().crosshair_y.Line = draw("Line", {
    From = Vector2.new((cam.ViewportSize.X/2), (cam.ViewportSize.Y/2) - crosshairSettings.length),
    To = Vector2.new((cam.ViewportSize.X/2), (cam.ViewportSize.Y/2) + crosshairSettings.length),
    Thickness = crosshairSettings.thickness,
    Color = crosshairSettings.color,
    Transparency = crosshairSettings.opacity,
    Visible = true
})
